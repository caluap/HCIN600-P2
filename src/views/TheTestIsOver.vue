<template>
  <LongText>
    <h1>VocÃª terminou o teste!</h1>
    <div v-if="debugMode == 2">
      <p>{{ collectedData }}</p>
    </div>
    <p>
      Pelo seu tempo e disposiÃ§Ã£o, somos muitissimamente gratos!
    </p>
    <p>
      Caso queira trocar impressÃµes, ficar sabendo de novidades de nossa
      pesquisa ou mesmo receber convites para as etapas seguintes, mande uma
      mensagem para
      <a href="mailto:paula@fee.unicamp.br">paula@fee.unicamp.br</a> que a gente
      entra em contato.
    </p>
    <p>Tenha {{ timeSensitiveGreeting }}, e atÃ© a prÃ³xima!</p>
    <p class="emoji">ğŸ˜Š</p>
  </LongText>
</template>

<script>
import LongText from "@/components/LongText.vue";
import { mapMutations, mapState } from "vuex";

export default {
  name: "TheTestIsOver",
  methods: {
    ...mapMutations(["incStep"])
  },
  computed: {
    ...mapState(["debugMode", "collectedData"]),
    timeSensitiveGreeting: function() {
      let now = new Date();
      let hour = now.getHours();
      if (hour > 4 && hour < 12) {
        return "um bom dia";
      }
      if (hour >= 12 && hour < 20) {
        return "uma boa tarde";
      }
      return "uma boa noite";
    }
  },
  mounted() {
    this.incStep(-1);
  },
  components: { LongText }
};
</script>

<style lang="scss" scoped>
@import "@/assets/css/_mixins.scss";
.emoji {
  @include fs(5);
  text-align: center;
}
</style>